<template lang="">
  <div id="dashboard-sidebar" class="h-100">
    <h3 class="titre-sidebar">{{ $t("topicalCouple") }}</h3>
    <CoupleCrypto v-on:refresh="refresh" :data="CoupleCrypto"></CoupleCrypto>
    <div class="loader-content" v-if="loading">
      <md-progress-spinner md-mode="indeterminate"></md-progress-spinner>
    </div>
  </div>
</template>

<script>
import CoupleCrypto from "../CoupleCrypto/CoupleCrypto.vue";

export default {
  name: "Sidebar",
  components: {
    CoupleCrypto,
  },
  data: function() {
    return {
      loading: false,
      CoupleCrypto: [
        {
          titre: `${this.$t("momentPairs")}`,
          icon: `
                <svg class="mr-2 Trac_19691" width="14" height="20" viewBox="5 2 14 20">
                  <path id="Trac_19691" d="M 9 21 C 9 21.5 9.399999618530273 22 10 22 L 14 22 C 14.60000038146973 22 15 21.5 15 21 L 15 20 L 9 20 L 9 21 Z M 12 2 C 8.100000381469727 2 5 5.099999904632568 5 9 C 5 11.39999961853027 6.199999809265137 13.5 8 14.69999980926514 L 8 17 C 8 17.5 8.399999618530273 18 9 18 L 15 18 C 15.60000038146973 18 16 17.5 16 17 L 16 14.69999980926514 C 17.79999923706055 13.39999961853027 19 11.29999923706055 19 9 C 19 5.099999904632568 15.89999961853027 2 12 2 Z" fill="#a7aaae">
                  </path>
                </svg>
              `,
          iconVide: `
                <svg class="Trac_42084" width=89.691 height=89.83 viewBox="160.518 67.788 89.691 89.83">
                  <path id="Trac_42084" d="M 205.2957458496094 67.78800201416016 C 180.586181640625 67.78800201416016 160.5180358886719 87.85453033447266 160.5180358886719 112.7027969360352 C 160.5180358886719 137.5494079589844 180.586181640625 157.6175842285156 205.2957458496094 157.6175842285156 C 230.1407470703125 157.6175842285156 250.2088928222656 137.5494079589844 250.2088928222656 112.7027969360352 C 250.2088928222656 87.85453033447266 230.1407470703125 67.78800201416016 205.2957458496094 67.78800201416016 L 205.2957458496094 67.78800201416016 Z M 205.2957458496094 154.0675964355469 L 205.2957458496094 154.0675964355469 C 182.4949340820312 154.0675964355469 163.9293212890625 135.4986877441406 163.9293212890625 112.7027969360352 C 163.9293212890625 89.76491546630859 182.4949340820312 71.33799743652344 205.2957458496094 71.33799743652344 C 228.2286987304688 71.33799743652344 246.6605529785156 89.76491546630859 246.6605529785156 112.7027969360352 C 246.6605529785156 135.4986877441406 228.2286987304688 154.0675964355469 205.2957458496094 154.0675964355469 L 205.2957458496094 154.0675964355469 Z M 184.2699279785156 101.5095901489258 L 184.2699279785156 101.5095901489258 C 184.2699279785156 97.82089996337891 187.4120788574219 94.68039703369141 191.0974426269531 94.68039703369141 C 194.9215393066406 94.68039703369141 198.0603942871094 97.82089996337891 198.0603942871094 101.5095901489258 C 198.0603942871094 105.3270797729492 194.9215393066406 108.4692306518555 191.0974426269531 108.4692306518555 C 187.4120788574219 108.4692306518555 184.2699279785156 105.3270797729492 184.2699279785156 101.5095901489258 L 184.2699279785156 101.5095901489258 Z M 230.0053405761719 119.6640853881836 L 230.0053405761719 119.6640853881836 C 227.0018920898438 129.765869140625 217.58203125 137.4140319824219 206.3871765136719 137.2753295898438 C 195.0585632324219 137.2753295898438 185.6370849609375 129.765869140625 182.6319580078125 119.5270309448242 C 187.8215637207031 127.0381393432617 196.5578308105469 132.0890502929688 206.3871765136719 132.0890502929688 C 216.2165222167969 132.0890502929688 224.9528198242188 127.0381393432617 230.0053405761719 119.6640853881836 L 230.0053405761719 119.6640853881836 Z M 227.2743225097656 104.2373123168945 L 227.2743225097656 104.2373123168945 L 212.1199951171875 104.2373123168945 L 212.1199951171875 98.91233062744141 L 227.2743225097656 98.91233062744141 L 227.2743225097656 104.2373123168945 Z" fill="#A7AAAE">
                  </path>
                </svg>
              `,
          titremessageVide: `${this.$t("momentPairs")}`,
          messageVide: `${this.$t("emptyMomentPairMessage")}`,
          listing: [],
        },
        {
          titre: `${this.$t("explosivePairs")}`,
          icon: `
                <svg class="mr-2 Trac_19682" width="16" height="21" viewBox="4 0.67 16 21.33">
                  <path id="Trac_19682" d="M 13.5 0.6700000166893005 C 13.5 0.6700000166893005 14.23999977111816 3.320000171661377 14.23999977111816 5.470000267028809 C 14.23999977111816 7.53000020980835 12.88999938964844 9.200000762939453 10.82999992370605 9.200000762939453 C 8.760000228881836 9.200000762939453 7.199999809265137 7.530000686645508 7.199999809265137 5.470000743865967 L 7.230000019073486 5.110000610351562 C 5.210000038146973 7.510000228881836 4 10.61999988555908 4 14 C 4 18.42000007629395 7.579999923706055 22 12 22 C 16.42000007629395 22 20 18.42000007629395 20 14 C 20 8.609999656677246 17.40999984741211 3.799999952316284 13.5 0.6700000166893005 Z M 11.71000003814697 19 C 9.930000305175781 19 8.489999771118164 17.60000038146973 8.489999771118164 15.85999965667725 C 8.489999771118164 14.23999977111816 9.539999961853027 13.09999942779541 11.29999923706055 12.73999977111816 C 13.06999969482422 12.38000011444092 14.89999961853027 11.52999973297119 15.91999912261963 10.15999984741211 C 16.30999946594238 11.44999980926514 16.5099983215332 12.80999946594238 16.5099983215332 14.19999980926514 C 16.5099983215332 16.85000038146973 14.35999870300293 19 11.70999813079834 19 Z" fill="#a7aaae">
                  </path>
                </svg>
              `,
          iconVide: `
                <svg class="Trac_42084" width=89.691 height=89.83 viewBox="160.518 67.788 89.691 89.83">
                  <path id="Trac_42084" d="M 205.2957458496094 67.78800201416016 C 180.586181640625 67.78800201416016 160.5180358886719 87.85453033447266 160.5180358886719 112.7027969360352 C 160.5180358886719 137.5494079589844 180.586181640625 157.6175842285156 205.2957458496094 157.6175842285156 C 230.1407470703125 157.6175842285156 250.2088928222656 137.5494079589844 250.2088928222656 112.7027969360352 C 250.2088928222656 87.85453033447266 230.1407470703125 67.78800201416016 205.2957458496094 67.78800201416016 L 205.2957458496094 67.78800201416016 Z M 205.2957458496094 154.0675964355469 L 205.2957458496094 154.0675964355469 C 182.4949340820312 154.0675964355469 163.9293212890625 135.4986877441406 163.9293212890625 112.7027969360352 C 163.9293212890625 89.76491546630859 182.4949340820312 71.33799743652344 205.2957458496094 71.33799743652344 C 228.2286987304688 71.33799743652344 246.6605529785156 89.76491546630859 246.6605529785156 112.7027969360352 C 246.6605529785156 135.4986877441406 228.2286987304688 154.0675964355469 205.2957458496094 154.0675964355469 L 205.2957458496094 154.0675964355469 Z M 184.2699279785156 101.5095901489258 L 184.2699279785156 101.5095901489258 C 184.2699279785156 97.82089996337891 187.4120788574219 94.68039703369141 191.0974426269531 94.68039703369141 C 194.9215393066406 94.68039703369141 198.0603942871094 97.82089996337891 198.0603942871094 101.5095901489258 C 198.0603942871094 105.3270797729492 194.9215393066406 108.4692306518555 191.0974426269531 108.4692306518555 C 187.4120788574219 108.4692306518555 184.2699279785156 105.3270797729492 184.2699279785156 101.5095901489258 L 184.2699279785156 101.5095901489258 Z M 230.0053405761719 119.6640853881836 L 230.0053405761719 119.6640853881836 C 227.0018920898438 129.765869140625 217.58203125 137.4140319824219 206.3871765136719 137.2753295898438 C 195.0585632324219 137.2753295898438 185.6370849609375 129.765869140625 182.6319580078125 119.5270309448242 C 187.8215637207031 127.0381393432617 196.5578308105469 132.0890502929688 206.3871765136719 132.0890502929688 C 216.2165222167969 132.0890502929688 224.9528198242188 127.0381393432617 230.0053405761719 119.6640853881836 L 230.0053405761719 119.6640853881836 Z M 227.2743225097656 104.2373123168945 L 227.2743225097656 104.2373123168945 L 212.1199951171875 104.2373123168945 L 212.1199951171875 98.91233062744141 L 227.2743225097656 98.91233062744141 L 227.2743225097656 104.2373123168945 Z" fill="#A7AAAE">
                  </path>
                </svg>
              `,
          titremessageVide: `${this.$t("explosivePairs")}`,
          messageVide: `${this.$t("emptyExplosivePairMessage")}`,
          listing: [],
        },
      ],
    };
  },
  methods: {
    getTrendingCouple: async function() {
      try {
        this.loading = true;
        await this.$store.dispatch("getTrendingCouple", {
          token: localStorage.getItem("token"),
        });
        this.CoupleCrypto[0].listing = this.$store.state.dashboard.trendingCouple.data;
      } catch (e) {
        //
      } finally {
        this.loading = false;
      }
    },

    getExplosiveCouple: async function() {
      try {
        this.loading = true;
        await this.$store.dispatch("getExplosiveCouple", {
          token: localStorage.getItem("token"),
        });
        this.CoupleCrypto[1].listing = this.$store.state.dashboard.explosiveCouple.data;
      } catch (e) {
        //
      } finally {
        this.loading = false;
      }
    },
    async refreshSideBar() {
      await this.getTrendingCouple();
      await this.getExplosiveCouple();
    },
    async refresh() {
      this.loading = true;
      await this.getTrendingCouple();
      await this.getExplosiveCouple();
      this.$emit("refresh");
      this.loading = false;
    },
  },
  watch: {
    "$i18n.locale"() {
      const listing1 = this.CoupleCrypto[0].listing;
      const listing2 = this.CoupleCrypto[1].listing;

      this.CoupleCrypto = [
        {
          titre: `${this.$t("momentPairs")}`,
          icon: `
                <svg class="mr-2 Trac_19691" width="14" height="20" viewBox="5 2 14 20">
                  <path id="Trac_19691" d="M 9 21 C 9 21.5 9.399999618530273 22 10 22 L 14 22 C 14.60000038146973 22 15 21.5 15 21 L 15 20 L 9 20 L 9 21 Z M 12 2 C 8.100000381469727 2 5 5.099999904632568 5 9 C 5 11.39999961853027 6.199999809265137 13.5 8 14.69999980926514 L 8 17 C 8 17.5 8.399999618530273 18 9 18 L 15 18 C 15.60000038146973 18 16 17.5 16 17 L 16 14.69999980926514 C 17.79999923706055 13.39999961853027 19 11.29999923706055 19 9 C 19 5.099999904632568 15.89999961853027 2 12 2 Z" fill="#a7aaae">
                  </path>
                </svg>
              `,
          iconVide: `
                <svg class="Trac_42084" width=89.691 height=89.83 viewBox="160.518 67.788 89.691 89.83">
                  <path id="Trac_42084" d="M 205.2957458496094 67.78800201416016 C 180.586181640625 67.78800201416016 160.5180358886719 87.85453033447266 160.5180358886719 112.7027969360352 C 160.5180358886719 137.5494079589844 180.586181640625 157.6175842285156 205.2957458496094 157.6175842285156 C 230.1407470703125 157.6175842285156 250.2088928222656 137.5494079589844 250.2088928222656 112.7027969360352 C 250.2088928222656 87.85453033447266 230.1407470703125 67.78800201416016 205.2957458496094 67.78800201416016 L 205.2957458496094 67.78800201416016 Z M 205.2957458496094 154.0675964355469 L 205.2957458496094 154.0675964355469 C 182.4949340820312 154.0675964355469 163.9293212890625 135.4986877441406 163.9293212890625 112.7027969360352 C 163.9293212890625 89.76491546630859 182.4949340820312 71.33799743652344 205.2957458496094 71.33799743652344 C 228.2286987304688 71.33799743652344 246.6605529785156 89.76491546630859 246.6605529785156 112.7027969360352 C 246.6605529785156 135.4986877441406 228.2286987304688 154.0675964355469 205.2957458496094 154.0675964355469 L 205.2957458496094 154.0675964355469 Z M 184.2699279785156 101.5095901489258 L 184.2699279785156 101.5095901489258 C 184.2699279785156 97.82089996337891 187.4120788574219 94.68039703369141 191.0974426269531 94.68039703369141 C 194.9215393066406 94.68039703369141 198.0603942871094 97.82089996337891 198.0603942871094 101.5095901489258 C 198.0603942871094 105.3270797729492 194.9215393066406 108.4692306518555 191.0974426269531 108.4692306518555 C 187.4120788574219 108.4692306518555 184.2699279785156 105.3270797729492 184.2699279785156 101.5095901489258 L 184.2699279785156 101.5095901489258 Z M 230.0053405761719 119.6640853881836 L 230.0053405761719 119.6640853881836 C 227.0018920898438 129.765869140625 217.58203125 137.4140319824219 206.3871765136719 137.2753295898438 C 195.0585632324219 137.2753295898438 185.6370849609375 129.765869140625 182.6319580078125 119.5270309448242 C 187.8215637207031 127.0381393432617 196.5578308105469 132.0890502929688 206.3871765136719 132.0890502929688 C 216.2165222167969 132.0890502929688 224.9528198242188 127.0381393432617 230.0053405761719 119.6640853881836 L 230.0053405761719 119.6640853881836 Z M 227.2743225097656 104.2373123168945 L 227.2743225097656 104.2373123168945 L 212.1199951171875 104.2373123168945 L 212.1199951171875 98.91233062744141 L 227.2743225097656 98.91233062744141 L 227.2743225097656 104.2373123168945 Z" fill="#A7AAAE">
                  </path>
                </svg>
              `,
          titremessageVide: `${this.$t("momentPairs")}`,
          messageVide: `${this.$t("emptyMomentPairMessage")}`,
          listing: listing1,
        },
        {
          titre: `${this.$t("explosivePairs")}`,
          icon: `
                <svg class="mr-2 Trac_19682" width="16" height="21" viewBox="4 0.67 16 21.33">
                  <path id="Trac_19682" d="M 13.5 0.6700000166893005 C 13.5 0.6700000166893005 14.23999977111816 3.320000171661377 14.23999977111816 5.470000267028809 C 14.23999977111816 7.53000020980835 12.88999938964844 9.200000762939453 10.82999992370605 9.200000762939453 C 8.760000228881836 9.200000762939453 7.199999809265137 7.530000686645508 7.199999809265137 5.470000743865967 L 7.230000019073486 5.110000610351562 C 5.210000038146973 7.510000228881836 4 10.61999988555908 4 14 C 4 18.42000007629395 7.579999923706055 22 12 22 C 16.42000007629395 22 20 18.42000007629395 20 14 C 20 8.609999656677246 17.40999984741211 3.799999952316284 13.5 0.6700000166893005 Z M 11.71000003814697 19 C 9.930000305175781 19 8.489999771118164 17.60000038146973 8.489999771118164 15.85999965667725 C 8.489999771118164 14.23999977111816 9.539999961853027 13.09999942779541 11.29999923706055 12.73999977111816 C 13.06999969482422 12.38000011444092 14.89999961853027 11.52999973297119 15.91999912261963 10.15999984741211 C 16.30999946594238 11.44999980926514 16.5099983215332 12.80999946594238 16.5099983215332 14.19999980926514 C 16.5099983215332 16.85000038146973 14.35999870300293 19 11.70999813079834 19 Z" fill="#a7aaae">
                  </path>
                </svg>
              `,
          iconVide: `
                <svg class="Trac_42084" width=89.691 height=89.83 viewBox="160.518 67.788 89.691 89.83">
                  <path id="Trac_42084" d="M 205.2957458496094 67.78800201416016 C 180.586181640625 67.78800201416016 160.5180358886719 87.85453033447266 160.5180358886719 112.7027969360352 C 160.5180358886719 137.5494079589844 180.586181640625 157.6175842285156 205.2957458496094 157.6175842285156 C 230.1407470703125 157.6175842285156 250.2088928222656 137.5494079589844 250.2088928222656 112.7027969360352 C 250.2088928222656 87.85453033447266 230.1407470703125 67.78800201416016 205.2957458496094 67.78800201416016 L 205.2957458496094 67.78800201416016 Z M 205.2957458496094 154.0675964355469 L 205.2957458496094 154.0675964355469 C 182.4949340820312 154.0675964355469 163.9293212890625 135.4986877441406 163.9293212890625 112.7027969360352 C 163.9293212890625 89.76491546630859 182.4949340820312 71.33799743652344 205.2957458496094 71.33799743652344 C 228.2286987304688 71.33799743652344 246.6605529785156 89.76491546630859 246.6605529785156 112.7027969360352 C 246.6605529785156 135.4986877441406 228.2286987304688 154.0675964355469 205.2957458496094 154.0675964355469 L 205.2957458496094 154.0675964355469 Z M 184.2699279785156 101.5095901489258 L 184.2699279785156 101.5095901489258 C 184.2699279785156 97.82089996337891 187.4120788574219 94.68039703369141 191.0974426269531 94.68039703369141 C 194.9215393066406 94.68039703369141 198.0603942871094 97.82089996337891 198.0603942871094 101.5095901489258 C 198.0603942871094 105.3270797729492 194.9215393066406 108.4692306518555 191.0974426269531 108.4692306518555 C 187.4120788574219 108.4692306518555 184.2699279785156 105.3270797729492 184.2699279785156 101.5095901489258 L 184.2699279785156 101.5095901489258 Z M 230.0053405761719 119.6640853881836 L 230.0053405761719 119.6640853881836 C 227.0018920898438 129.765869140625 217.58203125 137.4140319824219 206.3871765136719 137.2753295898438 C 195.0585632324219 137.2753295898438 185.6370849609375 129.765869140625 182.6319580078125 119.5270309448242 C 187.8215637207031 127.0381393432617 196.5578308105469 132.0890502929688 206.3871765136719 132.0890502929688 C 216.2165222167969 132.0890502929688 224.9528198242188 127.0381393432617 230.0053405761719 119.6640853881836 L 230.0053405761719 119.6640853881836 Z M 227.2743225097656 104.2373123168945 L 227.2743225097656 104.2373123168945 L 212.1199951171875 104.2373123168945 L 212.1199951171875 98.91233062744141 L 227.2743225097656 98.91233062744141 L 227.2743225097656 104.2373123168945 Z" fill="#A7AAAE">
                  </path>
                </svg>
              `,
          titremessageVide: `${this.$t("explosivePairs")}`,
          messageVide: `${this.$t("emptyExplosivePairMessage")}`,
          listing: listing2,
        },
      ];
    },
  },
  async mounted() {
    await this.getTrendingCouple();
    await this.getExplosiveCouple();
  },
};
</script>
<style scoped>
#dashboard-sidebar {
  padding: 24px;
}
.titre-sidebar {
  font-family: "Poppins-Bold", Arial, Helvetica, sans-serif;
  font-size: 24px;
  letter-spacing: 0.075px;
}
* .loader-content {
  display: flex;
  align-items: center;
  justify-content: center;
}
.md-progress-spinner {
  margin: 16px;
}
.md-progress-spinner svg {
  height: 40px !important;
  width: 40px !important;
}
.md-progress-spinner .md-progress-spinner-circle {
  stroke: var(--primary) !important;
}
</style>
